# debezium-oracle-query-tool

This project is a command-line client for Oracle LogMiner.
It is meant to work in conjunction with an environment already configured for the Debezium for Oracle connector.
This tool allows you to execute specific commands that can obtain valuable information for debugging purposes when submitting bug reports.

## Quickstart

Before you can start using dbzoqt (Debezium Oracle Query Tool) you need to have configured your Oracle database as outlined by the Debezium for Oracle connector [documentation](https://debezium.io/documentation/reference/stable/connectors/oracle.adoc).
This tool relies on the user account for the connector to be able to authenticate and perform specific read-only actions against the Oracle database in similar to the Debezium for Oracle connector.

Before using, you need to compile the tool from its source:

```shell
./mvnw clean install
```

This will generate a runnable Java archive in `target/quarkus-app/quarkus-run.jar`.

## Usage

To see the tools help, simply run `java -jar target/quarkus-app/quarkus-run.jar`, and it will show the following help output:
```shell script
Usage: dbzoqt [-hV] [COMMAND]
A command-line query tool for Oracle by Debezium
  -h, --help      Show this help message and exit.
  -V, --version   Print version information and exit.
Commands:
  help          Displays help information about the specified command
  info          Displays database information
  logs          Displays information about Oracle transaction logs
  list-changes  Lists all change events  
  transactions  Generates an aggregate of changes per transaction
```

The following sections talk about each command.

### Help

The `help` command displays the same information as if you did not provide any arguments.

### Info - Display database information

The `info` command queries information from `V$PARAMETER`, `V$DATABASE`, and `V$LOG` performance views.
This provides basic information about various parameters that influence Debezium's LogMiner implementation, details about the database instance, and information about the online redo logs.

To use this command, several additional arguments are required:

* `--hostname` specifies the Oracle database instance hostname (same as Debezium's `database.hostname` property) 
* `--username` specifies the Oracle user account to connect with (same as Debezium's `database.user` property)
* `--password` specifies the Oracle user account's password (same as Debezium's `database.password` property)
* `--port` specifies the Oracle port (same as Debezium's `database.port` property)
* `--service` specifies the Oracle service/sid name (same as Debezium's `database.dbname` property)

An example would be:
```shell
java -jar target/quarkus-app/quarkus-run.jar info \
  --hostname localhost \
  --username c##dbzuser \
  --password dbz \
  --service ORCLCDB \
  --port 1521
```

You should expect output that looks similar to the following:
```
Oracle Database 21c Enterprise Edition Release 21.0.0.0.0 - Production
Version 21.3.0.0.0

LogMiner-specific System Parameters
+------------+--------+
| NAME       | VALUE  |
+------------+--------+
| compatible | 21.0.0 |
+------------+--------+

Table: V$DATABASE
+------------+---------+-----------------------+-------------------+-----------------------+-------------------------+-----------------------+------------+--------------------+-----------------+------------------+-----------------------+-----------------------+---------------------+-----------------------+----------------+-----------------------+------------+---------------------+---------------------+----------------+-------------+-------------+---------------+--------------------+------------------------+-------------------+------------------+--------------+---------------------------+--------------------------+--------------------------+---------------+-------------+------------------+------------------------------+------------------------+-------------+--------------+--------------------------+---------------------------+----------------+----------------------------+------------------+--------------------+----------------------------+-----------------------+------------------------------+---------------------------+-----------------------+------------------------+--------------------------+------------------------------+-----+--------+---------------------------+------------+-----------------------+--------------------------+--------------------------+
| DBID       | NAME    | CREATED               | RESETLOGS_CHANGE# | RESETLOGS_TIME        | PRIOR_RESETLOGS_CHANGE# | PRIOR_RESETLOGS_TIME  | LOG_MODE   | CHECKPOINT_CHANGE# | ARCHIVE_CHANGE# | CONTROLFILE_TYPE | CONTROLFILE_CREATED   | CONTROLFILE_SEQUENCE# | CONTROLFILE_CHANGE# | CONTROLFILE_TIME      | OPEN_RESETLOGS | VERSION_TIME          | OPEN_MODE  | PROTECTION_MODE     | PROTECTION_LEVEL    | REMOTE_ARCHIVE | ACTIVATION# | SWITCHOVER# | DATABASE_ROLE | ARCHIVELOG_CHANGE# | ARCHIVELOG_COMPRESSION | SWITCHOVER_STATUS | DATAGUARD_BROKER | GUARD_STATUS | SUPPLEMENTAL_LOG_DATA_MIN | SUPPLEMENTAL_LOG_DATA_PK | SUPPLEMENTAL_LOG_DATA_UI | FORCE_LOGGING | PLATFORM_ID | PLATFORM_NAME    | RECOVERY_TARGET_INCARNATION# | LAST_OPEN_INCARNATION# | CURRENT_SCN | FLASHBACK_ON | SUPPLEMENTAL_LOG_DATA_FK | SUPPLEMENTAL_LOG_DATA_ALL | DB_UNIQUE_NAME | STANDBY_BECAME_PRIMARY_SCN | FS_FAILOVER_MODE | FS_FAILOVER_STATUS | FS_FAILOVER_CURRENT_TARGET | FS_FAILOVER_THRESHOLD | FS_FAILOVER_OBSERVER_PRESENT | FS_FAILOVER_OBSERVER_HOST | CONTROLFILE_CONVERTED | PRIMARY_DB_UNIQUE_NAME | SUPPLEMENTAL_LOG_DATA_PL | MIN_REQUIRED_CAPTURE_CHANGE# | CDB | CON_ID | PENDING_ROLE_CHANGE_TASKS | CON_DBID   | FORCE_FULL_DB_CACHING | SUPPLEMENTAL_LOG_DATA_SR | GOLDENGATE_BLOCKING_MODE |
+------------+---------+-----------------------+-------------------+-----------------------+-------------------------+-----------------------+------------+--------------------+-----------------+------------------+-----------------------+-----------------------+---------------------+-----------------------+----------------+-----------------------+------------+---------------------+---------------------+----------------+-------------+-------------+---------------+--------------------+------------------------+-------------------+------------------+--------------+---------------------------+--------------------------+--------------------------+---------------+-------------+------------------+------------------------------+------------------------+-------------+--------------+--------------------------+---------------------------+----------------+----------------------------+------------------+--------------------+----------------------------+-----------------------+------------------------------+---------------------------+-----------------------+------------------------+--------------------------+------------------------------+-----+--------+---------------------------+------------+-----------------------+--------------------------+--------------------------+
| 2938215996 | ORCLCDB | 2024-04-24 17:37:00.0 |           2601843 | 2024-04-24 17:37:00.0 |                       1 | 2021-07-27 19:10:18.0 | ARCHIVELOG |            4191041 |         3836046 |          CURRENT | 2024-04-24 17:37:00.0 |                  5479 |             4197379 | 2025-03-01 11:17:31.0 |    NOT ALLOWED | 2024-04-24 17:37:00.0 | READ WRITE | MAXIMUM PERFORMANCE | MAXIMUM PERFORMANCE |        ENABLED |  2938198332 |  2938198332 |       PRIMARY |            4191041 |               DISABLED |       NOT ALLOWED |         DISABLED |         NONE |                       YES |                       NO |                       NO |            NO |          13 | Linux x86 64-bit |                            2 |                      2 |     4198007 |           NO |                       NO |                        NO |        ORCLCDB |                          0 |         DISABLED |           DISABLED |                            |                     0 |                              |                           |                    NO |                        |                       NO |                              | YES |      0 |            NOT APPLICABLE | 2938215996 |                    NO |                       NO |                 DISABLED |
+------------+---------+-----------------------+-------------------+-----------------------+-------------------------+-----------------------+------------+--------------------+-----------------+------------------+-----------------------+-----------------------+---------------------+-----------------------+----------------+-----------------------+------------+---------------------+---------------------+----------------+-------------+-------------+---------------+--------------------+------------------------+-------------------+------------------+--------------+---------------------------+--------------------------+--------------------------+---------------+-------------+------------------+------------------------------+------------------------+-------------+--------------+--------------------------+---------------------------+----------------+----------------------------+------------------+--------------------+----------------------------+-----------------------+------------------------------+---------------------------+-----------------------+------------------------+--------------------------+------------------------------+-----+--------+---------------------------+------------+-----------------------+--------------------------+--------------------------+

Table: V$LOG
+--------+---------+-----------+-----------+-----------+---------+----------+----------+---------------+-----------------------+---------------------+-----------------------+--------+
| GROUP# | THREAD# | SEQUENCE# | BYTES     | BLOCKSIZE | MEMBERS | ARCHIVED | STATUS   | FIRST_CHANGE# | FIRST_TIME            | NEXT_CHANGE#        | NEXT_TIME             | CON_ID |
+--------+---------+-----------+-----------+-----------+---------+----------+----------+---------------+-----------------------+---------------------+-----------------------+--------+
|      1 |       1 |         7 | 419430400 |       512 |       1 |      YES | INACTIVE |       4014251 | 2025-02-28 23:04:35.0 |             4191041 | 2025-03-01 11:07:46.0 |      0 |
+--------+---------+-----------+-----------+-----------+---------+----------+----------+---------------+-----------------------+---------------------+-----------------------+--------+
|      2 |       1 |         8 | 419430400 |       512 |       1 |       NO |  CURRENT |       4191041 | 2025-03-01 11:07:46.0 | 9295429630892703743 |                       |      0 |
+--------+---------+-----------+-----------+-----------+---------+----------+----------+---------------+-----------------------+---------------------+-----------------------+--------+
|      3 |       1 |         6 | 419430400 |       512 |       1 |      YES | INACTIVE |       3836046 | 2025-02-28 16:39:57.0 |             4014251 | 2025-02-28 23:04:35.0 |      0 |
+--------+---------+-----------+-----------+-----------+---------+----------+----------+---------------+-----------------------+---------------------+-----------------------+--------+
```

### Logs - Displays information about Oracle's transaction logs

The `logs` command queries information from `V$ARCHIVE_DEST_STATUS`, `V$LOG`, `V$LOGFILE`, `VDATABASE`, and `V$ARCHIVED_LOG` performance views.
This provides information about all archive log destinations and optionally about logs that are on the same and eligible for mining by Debezium.

To use this command, several additional arguments are required:

* `--hostname` specifies the Oracle database instance hostname (same as Debezium's `database.hostname` property)
* `--username` specifies the Oracle user account to connect with (same as Debezium's `database.user` property)
* `--password` specifies the Oracle user account's password (same as Debezium's `database.password` property)
* `--port` specifies the Oracle port (same as Debezium's `database.port` property)
* `--service` specifies the Oracle service/sid name (same as Debezium's `database.dbname` property)

In addition, there is one optional argument:

* `--since` specifies the start SCN to to collect eligible logs for mining. (same as a Debezium mining step's `startScn` read position)

An example would be:
```shell
java -jar target/quarkus-app/quarkus-run.jar logs \
  --hostname localhost \
  --username c##dbzuser \
  --password dbz \
  --port 1521 \
  --service ORCLCDB \
  --since 3840000
```

You should expect output that looks similar to the following:
```
Oracle Database 21c Enterprise Edition Release 21.0.0.0.0 - Production
Version 21.3.0.0.0

Table: V$ARCHIVE_DEST_STATUS
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
| DEST_ID | DEST_NAME           | STATUS   | TYPE  | DATABASE_MODE | RECOVERY_MODE | PROTECTION_MODE     | DESTINATION                             | STANDBY_LOGFILE_COUNT | STANDBY_LOGFILE_ACTIVE | ARCHIVED_THREAD# | ARCHIVED_SEQ# | APPLIED_THREAD# | APPLIED_SEQ# | ERROR | SRL | DB_UNIQUE_NAME | SYNCHRONIZATION_STATUS | SYNCHRONIZED | GAP_STATUS | CON_ID |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|       1 |  LOG_ARCHIVE_DEST_1 |    VALID | LOCAL |          OPEN |          IDLE | MAXIMUM PERFORMANCE | /opt/oracle/homes/OraDB21Home1/dbs/arch |                     0 |                      0 |                1 |             7 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|       2 |  LOG_ARCHIVE_DEST_2 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|       3 |  LOG_ARCHIVE_DEST_3 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|       4 |  LOG_ARCHIVE_DEST_4 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|       5 |  LOG_ARCHIVE_DEST_5 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|       6 |  LOG_ARCHIVE_DEST_6 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|       7 |  LOG_ARCHIVE_DEST_7 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|       8 |  LOG_ARCHIVE_DEST_8 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|       9 |  LOG_ARCHIVE_DEST_9 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      10 | LOG_ARCHIVE_DEST_10 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      11 | LOG_ARCHIVE_DEST_11 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      12 | LOG_ARCHIVE_DEST_12 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      13 | LOG_ARCHIVE_DEST_13 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      14 | LOG_ARCHIVE_DEST_14 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      15 | LOG_ARCHIVE_DEST_15 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      16 | LOG_ARCHIVE_DEST_16 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      17 | LOG_ARCHIVE_DEST_17 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      18 | LOG_ARCHIVE_DEST_18 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      19 | LOG_ARCHIVE_DEST_19 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      20 | LOG_ARCHIVE_DEST_20 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      21 | LOG_ARCHIVE_DEST_21 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      22 | LOG_ARCHIVE_DEST_22 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      23 | LOG_ARCHIVE_DEST_23 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      24 | LOG_ARCHIVE_DEST_24 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      25 | LOG_ARCHIVE_DEST_25 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      26 | LOG_ARCHIVE_DEST_26 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      27 | LOG_ARCHIVE_DEST_27 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      28 | LOG_ARCHIVE_DEST_28 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      29 | LOG_ARCHIVE_DEST_29 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      30 | LOG_ARCHIVE_DEST_30 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+
|      31 | LOG_ARCHIVE_DEST_31 | INACTIVE | LOCAL |       UNKNOWN |          IDLE | MAXIMUM PERFORMANCE |                                         |                     0 |                      0 |                0 |             0 |               0 |            0 |       |  NO |           NONE |    CHECK CONFIGURATION |           NO |            |      0 |
+---------+---------------------+----------+-------+---------------+---------------+---------------------+-----------------------------------------+-----------------------+------------------------+------------------+---------------+-----------------+--------------+-------+-----+----------------+------------------------+--------------+------------+--------+

Logs Since 3840000
+-----------------------------------------------------------------------------------------+---------+---------+-----------+---------------+---------------------+----------+---------+--------+
| NAME                                                                                    | DEST_ID | THREAD# | SEQUENCE# | FIRST_CHANGE# | NEXT_CHANGE#        | ARCHIVED | DELETED | STATUS |
+-----------------------------------------------------------------------------------------+---------+---------+-----------+---------------+---------------------+----------+---------+--------+
| /opt/oracle/oradata/recovery_area/ORCLCDB/archivelog/2025_03_01/o1_mf_1_7_mw5q3l1c_.arc |       1 |       1 |         7 |       4014251 |             4191041 |      YES |      NO |      A |
+-----------------------------------------------------------------------------------------+---------+---------+-----------+---------------+---------------------+----------+---------+--------+
|                                                  /opt/oracle/oradata/ORCLCDB/redo02.log |       0 |       1 |         8 |       4191041 | 9295429630892703743 |       NO |      NO |   REDO |
+-----------------------------------------------------------------------------------------+---------+---------+-----------+---------------+---------------------+----------+---------+--------+
```

> **_NOTE:_** If `--since` is omitted, the list of logs shown at the end of the output will be omitted.

### List changes - Performing a mining step and outputs all changes

The `list-changes` command queries information from `V$LOGMNR_CONTENTS` performance view after creating a LogMiner session.
This provides all changes between a start and end SCN range, optionally restricting the data to a specific transaction if supplied.

To use this command, several additional arguments are required:

* `--hostname` specifies the Oracle database instance hostname (same as Debezium's `database.hostname` property)
* `--username` specifies the Oracle user account to connect with (same as Debezium's `database.user` property)
* `--password` specifies the Oracle user account's password (same as Debezium's `database.password` property)
* `--port` specifies the Oracle port (same as Debezium's `database.port` property)
* `--service` specifies the Oracle service/sid name (same as Debezium's `database.dbname` property) 
* `--start-scn` specifies the LogMiner mining range first system change number in the range 
* `--end-scn` specifies the LogMiner mining range last system change number in the range
* `--exclude-internal` specifies that all `INTERNAL` operations should be excluded from the change list
* `--output` specifies the filename of the CSV where the mined data will be written

In addition, there are optional arguments:

* `--show-logs` specifies whether the logs used by the mining session are output to the console
* `--transaction` specifies an additional predicate to limit the mined data just for the specified transaction id in hex

An example would be:
```shell
java -jar target/quarkus-app/quarkus-run.jar list-changes \
  --hostname localhost \
  --username c##dbzuser \
  --password dbz \
  --port 1521 \
  --service ORCLCDB \
  --start-scn 3837000 \
  --end-scn 3840000 \
  --transaction 03000a00a2020000 \
  --show-logs \
  --output data.csv
```

Because the command specified `--show-logs`, the console will show output similar to the following, which describes all Oracle transaction logs (archive and online) that were used in the mining session based on the provided start and end SCN range: 

```
Mineable Logs
+-----------------------------------------------------------------------------------------+-----------+---------------------+
| FILE_NAME                                                                               | FIRST_SCN | NEXT_SCN            |
+-----------------------------------------------------------------------------------------+-----------+---------------------+
| /opt/oracle/oradata/recovery_area/ORCLCDB/archivelog/2025_02_28/o1_mf_1_6_mw4dqmhj_.arc |   3836046 |             4014251 |
+-----------------------------------------------------------------------------------------+-----------+---------------------+
| /opt/oracle/oradata/recovery_area/ORCLCDB/archivelog/2025_03_01/o1_mf_1_7_mw5q3l1c_.arc |   4014251 |             4191041 |
+-----------------------------------------------------------------------------------------+-----------+---------------------+
|                                                  /opt/oracle/oradata/ORCLCDB/redo02.log |   4191041 | 9295429630892703743 |
+-----------------------------------------------------------------------------------------+-----------+---------------------+
```

In addition, a new file will have been created called `data.csv`, which contains all mined data from the `V$LOGMNR_CONTENTS` view.
Because the example explicitly limits the data set to a single transaction by specifying `--transaction`, the data set will only contain changes related to that transaction.
An example of what `data.csv` looks like is as follows:

```
"SCN","START_SCN","COMMIT_SCN","TIMESTAMP","START_TIMESTAMP","COMMIT_TIMESTAMP","XIDUSN","XIDSLT","XIDSQN","XID","PXIDUSN","PXIDSLT","PXIDSQN","PXID","TX_NAME","OPERATION","OPERATION_CODE","ROLLBACK","SEG_OWNER","SEG_NAME","TABLE_NAME","SEG_TYPE","SEG_TYPE_NAME","TABLE_SPACE","ROW_ID","USERNAME","OS_USERNAME","MACHINE_NAME","AUDIT_SESSIONID","SESSION#","SERIAL#","SESSION_INFO","THREAD#","SEQUENCE#","RBASQN","RBABLK","RBABYTE","UBAFIL","UBABLK","UBAREC","UBASQN","ABS_FILE#","REL_FILE#","DATA_BLK#","DATA_OBJ#","DATA_OBJV#","DATA_OBJD#","SQL_REDO","SQL_UNDO","RS_ID","SSN","CSF","INFO","STATUS","REDO_VALUE","UNDO_VALUE","SAFE_RESUME_SCN","CSCN","OBJECT_ID","EDITION_NAME","CLIENT_ID","SRC_CON_NAME","SRC_CON_ID","SRC_CON_UID","SRC_CON_DBID","SRC_CON_GUID"
3837491,0,0,"2025-02-28T21:44:39Z",,,3,10,674,"03000a00a2020000",3,10,674,"03000a00a2020000",,"START",6,0,,,,0,,,"AAADEDAAAAAAAAAAAA","UNKNOWN","UNKNOWN","UNKNOWN",0,984,56334,"UNKNOWN",1,1,6,692,16,4,0,0,0,0,0,0,0,0,0,"set transaction read write;",," 0x000006.000002b4.0010 ",0,0,"Recursive",0,72,73,0,0,,,"UNKNOWN","CDB$ROOT",1,1,0,,1
3837491,0,0,"2025-02-28T21:44:39Z",,,3,10,674,"03000a00a2020000",3,10,674,"03000a00a2020000",,"UPDATE",3,0,"SYS","WRM$_DATABASE_INSTANCE","WRM$_DATABASE_INSTANCE",2,"TABLE","SYSAUX","AAADEDAADAAADsDAAE","UNKNOWN","UNKNOWN","UNKNOWN",0,984,56334,"UNKNOWN",1,1,6,692,16,4,0,0,0,4,3,15107,12547,1,12547,"update ""SYS"".""WRM$_DATABASE_INSTANCE"" set ""LAST_ASH_SAMPLE_ID"" = '30457' where ""LAST_ASH_SAMPLE_ID"" = '30168';","update ""SYS"".""WRM$_DATABASE_INSTANCE"" set ""LAST_ASH_SAMPLE_ID"" = '30168' where ""LAST_ASH_SAMPLE_ID"" = '30457';"," 0x000006.000002b4.0010 ",0,0,,0,74,75,0,0,,,"UNKNOWN","CDB$ROOT",1,1,0,,1
3837491,0,0,"2025-02-28T21:44:39Z",,,3,10,674,"03000a00a2020000",3,10,674,"03000a00a2020000",,"INSERT",1,0,"SYS","WRH$_ACTIVE_SESSION_HISTORY,WRH$_ACTIVE_SESSION_HISTORY_2938215996_MXSN","WRH$_ACTIVE_SESSION_HISTORY",19,"TABPART","SYSAUX","AAASnaAADAAASFUAAV","UNKNOWN","UNKNOWN","UNKNOWN",0,984,56334,"UNKNOWN",1,1,6,693,132,4,16777508,18,176,3,3,74068,76250,1,76250,"insert into ""SYS"".""WRH$_ACTIVE_SESSION_HISTORY""(""SNAP_ID"",""DBID"",""INSTANCE_NUMBER"",""SAMPLE_ID"",""SAMPLE_TIME"",""SESSION_ID"",""SESSION_SERIAL#"",""USER_ID"",""SQL_ID"",""SQL_CHILD_NUMBER"",""SQL_PLAN_HASH_VALUE"",""SERVICE_HASH"",""SESSION_TYPE"",""SQL_OPCODE"",""QC_SESSION_ID"",""QC_INSTANCE_ID"",""CURRENT_OBJ#"",""CURRENT_FILE#"",""CURRENT_BLOCK#"",""SEQ#"",""EVENT_ID"",""P1"",""P2"",""P3"",""WAIT_TIME"",""TIME_WAITED"",""PROGRAM"",""MODULE"",""ACTION"",""CLIENT_ID"",""FORCE_MATCHING_SIGNATURE"",""BLOCKING_SESSION"",""BLOCKING_SESSION_SERIAL#"",""XID"",""CONSUMER_GROUP_ID"",""PLSQL_ENTRY_OBJECT_ID"",""PLSQL_ENTRY_SUBPROGRAM_ID"",""PLSQL_OBJECT_ID"",""PLSQL_SUBPROGRAM_ID"",""QC_SESSION_SERIAL#"",""REMOTE_INSTANCE#"",""SQL_PLAN_LINE_ID"",""SQL_PLAN_OPERATION#"",""SQL_PLAN_OPTIONS#"",""SQL_EXEC_ID"",""SQL_EXEC_START"",""TIME_MODEL"",""TOP_LEVEL_SQL_ID"",""TOP_LEVEL_SQL_OPCODE"",""CURRENT_ROW#"",""FLAGS"",""BLOCKING_INST_ID"",""ECID"",""TM_DELTA_TIME"",""TM_DELTA_CPU_TIME"",""TM_DELTA_DB_TIME"",""DELTA_TIME"",""DELTA_READ_IO_REQUESTS"",""DELTA_WRITE_IO_REQUESTS"",""DELTA_READ_IO_BYTES"",""DELTA_WRITE_IO_BYTES"",""DELTA_INTERCONNECT_IO_BYTES"",""PGA_ALLOCATED"",""TEMP_SPACE_ALLOCATED"",""TOP_LEVEL_CALL#"",""MACHINE"",""PORT"",""DBREPLAY_FILE_ID"",""DBREPLAY_CALL_COUNTER"",""PX_FLAGS"",""CON_DBID"",""DBOP_NAME"",""DBOP_EXEC_ID"",""SQL_FULL_PLAN_HASH_VALUE"",""SQL_ADAPTIVE_PLAN_RESOLVED"",""USECS_PER_ROW"",""SAMPLE_TIME_UTC"",""PER_PDB"") values ('10','2938215996','1','30400',TO_TIMESTAMP('28-FEB-25 04.43.20.644 PM'),'490','19029','0',NULL,'-1','0','165959219','2','0','0','0','-1','0','0','10182','866018717','300','0','0','3000187','0','oracle@876e4e61e05f (DBRM)',NULL,NULL,NULL,'0','4294967291','0',NULL,'0','0','0','0','0','0','0','0','0','0','0',NULL,'0',NULL,'0','0','16','1',NULL,'30024723','23290','0','30026533',NULL,NULL,NULL,NULL,NULL,'3928064',NULL,'0','876e4e61e05f','0','0','0','0','2938215996',NULL,'0','0','0','10008050',TO_TIMESTAMP('28-FEB-25 03.43.20 PM'),'1');","delete from ""SYS"".""WRH$_ACTIVE_SESSION_HISTORY"" where ""SNAP_ID"" = '10' and ""DBID"" = '2938215996' and ""INSTANCE_NUMBER"" = '1' and ""SAMPLE_ID"" = '30400' and ""SAMPLE_TIME"" = TO_TIMESTAMP('28-FEB-25 04.43.20.644 PM') and ""SESSION_ID"" = '490' and ""SESSION_SERIAL#"" = '19029' and ""USER_ID"" = '0' and ""SQL_ID"" IS NULL and ""SQL_CHILD_NUMBER"" = '-1' and ""SQL_PLAN_HASH_VALUE"" = '0' and ""SERVICE_HASH"" = '165959219' and ""SESSION_TYPE"" = '2' and ""SQL_OPCODE"" = '0' and ""QC_SESSION_ID"" = '0' and ""QC_INSTANCE_ID"" = '0' and ""CURRENT_OBJ#"" = '-1' and ""CURRENT_FILE#"" = '0' and ""CURRENT_BLOCK#"" = '0' and ""SEQ#"" = '10182' and ""EVENT_ID"" = '866018717' and ""P1"" = '300' and ""P2"" = '0' and ""P3"" = '0' and ""WAIT_TIME"" = '3000187' and ""TIME_WAITED"" = '0' and ""PROGRAM"" = 'oracle@876e4e61e05f (DBRM)' and ""MODULE"" IS NULL and ""ACTION"" IS NULL and ""CLIENT_ID"" IS NULL and ""FORCE_MATCHING_SIGNATURE"" = '0' and ""BLOCKING_SESSION"" = '4294967291' and ""BLOCKING_SESSION_SERIAL#"" = '0' and ""XID"" IS NULL and ""CONSUMER_GROUP_ID"" = '0' and ""PLSQL_ENTRY_OBJECT_ID"" = '0' and ""PLSQL_ENTRY_SUBPROGRAM_ID"" = '0' and ""PLSQL_OBJECT_ID"" = '0' and ""PLSQL_SUBPROGRAM_ID"" = '0' and ""QC_SESSION_SERIAL#"" = '0' and ""REMOTE_INSTANCE#"" = '0' and ""SQL_PLAN_LINE_ID"" = '0' and ""SQL_PLAN_OPERATION#"" = '0' and ""SQL_PLAN_OPTIONS#"" = '0' and ""SQL_EXEC_ID"" = '0' and ""SQL_EXEC_START"" IS NULL and ""TIME_MODEL"" = '0' and ""TOP_LEVEL_SQL_ID"" IS NULL and ""TOP_LEVEL_SQL_OPCODE"" = '0' and ""CURRENT_ROW#"" = '0' and ""FLAGS"" = '16' and ""BLOCKING_INST_ID"" = '1' and ""ECID"" IS NULL and ""TM_DELTA_TIME"" = '30024723' and ""TM_DELTA_CPU_TIME"" = '23290' and ""TM_DELTA_DB_TIME"" = '0' and ""DELTA_TIME"" = '30026533' and ""DELTA_READ_IO_REQUESTS"" IS NULL and ""DELTA_WRITE_IO_REQUESTS"" IS NULL and ""DELTA_READ_IO_BYTES"" IS NULL and ""DELTA_WRITE_IO_BYTES"" IS NULL and ""DELTA_INTERCONNECT_IO_BYTES"" IS NULL and ""PGA_ALLOCATED"" = '3928064' and ""TEMP_SPACE_ALLOCATED"" IS NULL and ""TOP_LEVEL_CALL#"" = '0' and ""MACHINE"" = '876e4e61e05f' and ""PORT"" = '0' and ""DBREPLAY_FILE_ID"" = '0' and ""DBREPLAY_CALL_COUNTER"" = '0' and ""PX_FLAGS"" = '0' and ""CON_DBID"" = '2938215996' and ""DBOP_NAME"" IS NULL and ""DBOP_EXEC_ID"" = '0' and ""SQL_FULL_PLAN_HASH_VALUE"" = '0' and ""SQL_ADAPTIVE_PLAN_RESOLVED"" = '0' and ""USECS_PER_ROW"" = '10008050' and ""SAMPLE_TIME_UTC"" = TO_TIMESTAMP('28-FEB-25 03.43.20 PM') and ""PER_PDB"" = '1';"," 0x000006.000002b5.0084 ",21,0,,0,76,77,0,0,,,"UNKNOWN","CDB$ROOT",1,1,0,,1
3837491,0,0,"2025-02-28T21:44:39Z",,,3,10,674,"03000a00a2020000",3,10,674,"03000a00a2020000",,"INSERT",1,0,"SYS","WRH$_ACTIVE_SESSION_HISTORY,WRH$_ACTIVE_SESSION_HISTORY_2938215996_MXSN","WRH$_ACTIVE_SESSION_HISTORY",19,"TABPART","SYSAUX","AAASnaAADAAASFUAAW","UNKNOWN","UNKNOWN","UNKNOWN",0,984,56334,"UNKNOWN",1,1,6,693,132,4,16777508,18,176,3,3,74068,76250,1,76250,"insert into ""SYS"".""WRH$_ACTIVE_SESSION_HISTORY""(""SNAP_ID"",""DBID"",""INSTANCE_NUMBER"",""SAMPLE_ID"",""SAMPLE_TIME"",""SESSION_ID"",""SESSION_SERIAL#"",""USER_ID"",""SQL_ID"",""SQL_CHILD_NUMBER"",""SQL_PLAN_HASH_VALUE"",""SERVICE_HASH"",""SESSION_TYPE"",""SQL_OPCODE"",""QC_SESSION_ID"",""QC_INSTANCE_ID"",""CURRENT_OBJ#"",""CURRENT_FILE#"",""CURRENT_BLOCK#"",""SEQ#"",""EVENT_ID"",""P1"",""P2"",""P3"",""WAIT_TIME"",""TIME_WAITED"",""PROGRAM"",""MODULE"",""ACTION"",""CLIENT_ID"",""FORCE_MATCHING_SIGNATURE"",""BLOCKING_SESSION"",""BLOCKING_SESSION_SERIAL#"",""XID"",""CONSUMER_GROUP_ID"",""PLSQL_ENTRY_OBJECT_ID"",""PLSQL_ENTRY_SUBPROGRAM_ID"",""PLSQL_OBJECT_ID"",""PLSQL_SUBPROGRAM_ID"",""QC_SESSION_SERIAL#"",""REMOTE_INSTANCE#"",""SQL_PLAN_LINE_ID"",""SQL_PLAN_OPERATION#"",""SQL_PLAN_OPTIONS#"",""SQL_EXEC_ID"",""SQL_EXEC_START"",""TIME_MODEL"",""TOP_LEVEL_SQL_ID"",""TOP_LEVEL_SQL_OPCODE"",""CURRENT_ROW#"",""FLAGS"",""BLOCKING_INST_ID"",""ECID"",""TM_DELTA_TIME"",""TM_DELTA_CPU_TIME"",""TM_DELTA_DB_TIME"",""DELTA_TIME"",""DELTA_READ_IO_REQUESTS"",""DELTA_WRITE_IO_REQUESTS"",""DELTA_READ_IO_BYTES"",""DELTA_WRITE_IO_BYTES"",""DELTA_INTERCONNECT_IO_BYTES"",""PGA_ALLOCATED"",""TEMP_SPACE_ALLOCATED"",""TOP_LEVEL_CALL#"",""MACHINE"",""PORT"",""DBREPLAY_FILE_ID"",""DBREPLAY_CALL_COUNTER"",""PX_FLAGS"",""CON_DBID"",""DBOP_NAME"",""DBOP_EXEC_ID"",""SQL_FULL_PLAN_HASH_VALUE"",""SQL_ADAPTIVE_PLAN_RESOLVED"",""USECS_PER_ROW"",""SAMPLE_TIME_UTC"",""PER_PDB"") values ('10','2938215996','1','30370',TO_TIMESTAMP('28-FEB-25 04.42.50.617 PM'),'490','19029','0',NULL,'-1','0','165959219','2','0','0','0','-1','0','0','10172','866018717','300','0','0','3000082','0','oracle@876e4e61e05f (DBRM)',NULL,NULL,NULL,'0','4294967291','0',NULL,'0','0','0','0','0','0','0','0','0','0','0',NULL,'0',NULL,'0','0','16','0',NULL,'30031623','30242','0','30032846',NULL,NULL,NULL,NULL,NULL,'3928064',NULL,'0','876e4e61e05f','0','0','0','0','456383365',NULL,'0','0','0','10010100',TO_TIMESTAMP('28-FEB-25 03.42.50 PM'),'3');","delete from ""SYS"".""WRH$_ACTIVE_SESSION_HISTORY"" where ""SNAP_ID"" = '10' and ""DBID"" = '2938215996' and ""INSTANCE_NUMBER"" = '1' and ""SAMPLE_ID"" = '30370' and ""SAMPLE_TIME"" = TO_TIMESTAMP('28-FEB-25 04.42.50.617 PM') and ""SESSION_ID"" = '490' and ""SESSION_SERIAL#"" = '19029' and ""USER_ID"" = '0' and ""SQL_ID"" IS NULL and ""SQL_CHILD_NUMBER"" = '-1' and ""SQL_PLAN_HASH_VALUE"" = '0' and ""SERVICE_HASH"" = '165959219' and ""SESSION_TYPE"" = '2' and ""SQL_OPCODE"" = '0' and ""QC_SESSION_ID"" = '0' and ""QC_INSTANCE_ID"" = '0' and ""CURRENT_OBJ#"" = '-1' and ""CURRENT_FILE#"" = '0' and ""CURRENT_BLOCK#"" = '0' and ""SEQ#"" = '10172' and ""EVENT_ID"" = '866018717' and ""P1"" = '300' and ""P2"" = '0' and ""P3"" = '0' and ""WAIT_TIME"" = '3000082' and ""TIME_WAITED"" = '0' and ""PROGRAM"" = 'oracle@876e4e61e05f (DBRM)' and ""MODULE"" IS NULL and ""ACTION"" IS NULL and ""CLIENT_ID"" IS NULL and ""FORCE_MATCHING_SIGNATURE"" = '0' and ""BLOCKING_SESSION"" = '4294967291' and ""BLOCKING_SESSION_SERIAL#"" = '0' and ""XID"" IS NULL and ""CONSUMER_GROUP_ID"" = '0' and ""PLSQL_ENTRY_OBJECT_ID"" = '0' and ""PLSQL_ENTRY_SUBPROGRAM_ID"" = '0' and ""PLSQL_OBJECT_ID"" = '0' and ""PLSQL_SUBPROGRAM_ID"" = '0' and ""QC_SESSION_SERIAL#"" = '0' and ""REMOTE_INSTANCE#"" = '0' and ""SQL_PLAN_LINE_ID"" = '0' and ""SQL_PLAN_OPERATION#"" = '0' and ""SQL_PLAN_OPTIONS#"" = '0' and ""SQL_EXEC_ID"" = '0' and ""SQL_EXEC_START"" IS NULL and ""TIME_MODEL"" = '0' and ""TOP_LEVEL_SQL_ID"" IS NULL and ""TOP_LEVEL_SQL_OPCODE"" = '0' and ""CURRENT_ROW#"" = '0' and ""FLAGS"" = '16' and ""BLOCKING_INST_ID"" = '0' and ""ECID"" IS NULL and ""TM_DELTA_TIME"" = '30031623' and ""TM_DELTA_CPU_TIME"" = '30242' and ""TM_DELTA_DB_TIME"" = '0' and ""DELTA_TIME"" = '30032846' and ""DELTA_READ_IO_REQUESTS"" IS NULL and ""DELTA_WRITE_IO_REQUESTS"" IS NULL and ""DELTA_READ_IO_BYTES"" IS NULL and ""DELTA_WRITE_IO_BYTES"" IS NULL and ""DELTA_INTERCONNECT_IO_BYTES"" IS NULL and ""PGA_ALLOCATED"" = '3928064' and ""TEMP_SPACE_ALLOCATED"" IS NULL and ""TOP_LEVEL_CALL#"" = '0' and ""MACHINE"" = '876e4e61e05f' and ""PORT"" = '0' and ""DBREPLAY_FILE_ID"" = '0' and ""DBREPLAY_CALL_COUNTER"" = '0' and ""PX_FLAGS"" = '0' and ""CON_DBID"" = '456383365' and ""DBOP_NAME"" IS NULL and ""DBOP_EXEC_ID"" = '0' and ""SQL_FULL_PLAN_HASH_VALUE"" = '0' and ""SQL_ADAPTIVE_PLAN_RESOLVED"" = '0' and ""USECS_PER_ROW"" = '10010100' and ""SAMPLE_TIME_UTC"" = TO_TIMESTAMP('28-FEB-25 03.42.50 PM') and ""PER_PDB"" = '3';"," 0x000006.000002b5.0084 ",22,0,,0,78,79,0,0,,,"UNKNOWN","CDB$ROOT",1,1,0,,1
3837491,0,0,"2025-02-28T21:44:39Z",,,3,10,674,"03000a00a2020000",3,10,674,"03000a00a2020000",,"INSERT",1,0,"SYS","WRH$_ACTIVE_SESSION_HISTORY,WRH$_ACTIVE_SESSION_HISTORY_2938215996_MXSN","WRH$_ACTIVE_SESSION_HISTORY",19,"TABPART","SYSAUX","AAASnaAADAAASFUAAX","UNKNOWN","UNKNOWN","UNKNOWN",0,984,56334,"UNKNOWN",1,1,6,693,132,4,16777508,18,176,3,3,74068,76250,1,76250,"insert into ""SYS"".""WRH$_ACTIVE_SESSION_HISTORY""(""SNAP_ID"",""DBID"",""INSTANCE_NUMBER"",""SAMPLE_ID"",""SAMPLE_TIME"",""SESSION_ID"",""SESSION_SERIAL#"",""USER_ID"",""SQL_ID"",""SQL_CHILD_NUMBER"",""SQL_PLAN_HASH_VALUE"",""SERVICE_HASH"",""SESSION_TYPE"",""SQL_OPCODE"",""QC_SESSION_ID"",""QC_INSTANCE_ID"",""CURRENT_OBJ#"",""CURRENT_FILE#"",""CURRENT_BLOCK#"",""SEQ#"",""EVENT_ID"",""P1"",""P2"",""P3"",""WAIT_TIME"",""TIME_WAITED"",""PROGRAM"",""MODULE"",""ACTION"",""CLIENT_ID"",""FORCE_MATCHING_SIGNATURE"",""BLOCKING_SESSION"",""BLOCKING_SESSION_SERIAL#"",""XID"",""CONSUMER_GROUP_ID"",""PLSQL_ENTRY_OBJECT_ID"",""PLSQL_ENTRY_SUBPROGRAM_ID"",""PLSQL_OBJECT_ID"",""PLSQL_SUBPROGRAM_ID"",""QC_SESSION_SERIAL#"",""REMOTE_INSTANCE#"",""SQL_PLAN_LINE_ID"",""SQL_PLAN_OPERATION#"",""SQL_PLAN_OPTIONS#"",""SQL_EXEC_ID"",""SQL_EXEC_START"",""TIME_MODEL"",""TOP_LEVEL_SQL_ID"",""TOP_LEVEL_SQL_OPCODE"",""CURRENT_ROW#"",""FLAGS"",""BLOCKING_INST_ID"",""ECID"",""TM_DELTA_TIME"",""TM_DELTA_CPU_TIME"",""TM_DELTA_DB_TIME"",""DELTA_TIME"",""DELTA_READ_IO_REQUESTS"",""DELTA_WRITE_IO_REQUESTS"",""DELTA_READ_IO_BYTES"",""DELTA_WRITE_IO_BYTES"",""DELTA_INTERCONNECT_IO_BYTES"",""PGA_ALLOCATED"",""TEMP_SPACE_ALLOCATED"",""TOP_LEVEL_CALL#"",""MACHINE"",""PORT"",""DBREPLAY_FILE_ID"",""DBREPLAY_CALL_COUNTER"",""PX_FLAGS"",""CON_DBID"",""DBOP_NAME"",""DBOP_EXEC_ID"",""SQL_FULL_PLAN_HASH_VALUE"",""SQL_ADAPTIVE_PLAN_RESOLVED"",""USECS_PER_ROW"",""SAMPLE_TIME_UTC"",""PER_PDB"") values ('10','2938215996','1','30340',TO_TIMESTAMP('28-FEB-25 04.42.20.584 PM'),'490','19029','0',NULL,'-1','0','165959219','2','0','0','0','-1','0','0','10162','866018717','300','0','0','3000144','0','oracle@876e4e61e05f (DBRM)',NULL,NULL,NULL,'0','4294967291','0',NULL,'0','0','0','0','0','0','0','0','0','0','0',NULL,'0',NULL,'0','0','16','1',NULL,'30035435','33899','0','30034056',NULL,NULL,NULL,NULL,NULL,'3928064',NULL,'0','876e4e61e05f','0','0','0','0','2938215996',NULL,'0','0','0','10011080',TO_TIMESTAMP('28-FEB-25 03.42.20 PM'),'1');","delete from ""SYS"".""WRH$_ACTIVE_SESSION_HISTORY"" where ""SNAP_ID"" = '10' and ""DBID"" = '2938215996' and ""INSTANCE_NUMBER"" = '1' and ""SAMPLE_ID"" = '30340' and ""SAMPLE_TIME"" = TO_TIMESTAMP('28-FEB-25 04.42.20.584 PM') and ""SESSION_ID"" = '490' and ""SESSION_SERIAL#"" = '19029' and ""USER_ID"" = '0' and ""SQL_ID"" IS NULL and ""SQL_CHILD_NUMBER"" = '-1' and ""SQL_PLAN_HASH_VALUE"" = '0' and ""SERVICE_HASH"" = '165959219' and ""SESSION_TYPE"" = '2' and ""SQL_OPCODE"" = '0' and ""QC_SESSION_ID"" = '0' and ""QC_INSTANCE_ID"" = '0' and ""CURRENT_OBJ#"" = '-1' and ""CURRENT_FILE#"" = '0' and ""CURRENT_BLOCK#"" = '0' and ""SEQ#"" = '10162' and ""EVENT_ID"" = '866018717' and ""P1"" = '300' and ""P2"" = '0' and ""P3"" = '0' and ""WAIT_TIME"" = '3000144' and ""TIME_WAITED"" = '0' and ""PROGRAM"" = 'oracle@876e4e61e05f (DBRM)' and ""MODULE"" IS NULL and ""ACTION"" IS NULL and ""CLIENT_ID"" IS NULL and ""FORCE_MATCHING_SIGNATURE"" = '0' and ""BLOCKING_SESSION"" = '4294967291' and ""BLOCKING_SESSION_SERIAL#"" = '0' and ""XID"" IS NULL and ""CONSUMER_GROUP_ID"" = '0' and ""PLSQL_ENTRY_OBJECT_ID"" = '0' and ""PLSQL_ENTRY_SUBPROGRAM_ID"" = '0' and ""PLSQL_OBJECT_ID"" = '0' and ""PLSQL_SUBPROGRAM_ID"" = '0' and ""QC_SESSION_SERIAL#"" = '0' and ""REMOTE_INSTANCE#"" = '0' and ""SQL_PLAN_LINE_ID"" = '0' and ""SQL_PLAN_OPERATION#"" = '0' and ""SQL_PLAN_OPTIONS#"" = '0' and ""SQL_EXEC_ID"" = '0' and ""SQL_EXEC_START"" IS NULL and ""TIME_MODEL"" = '0' and ""TOP_LEVEL_SQL_ID"" IS NULL and ""TOP_LEVEL_SQL_OPCODE"" = '0' and ""CURRENT_ROW#"" = '0' and ""FLAGS"" = '16' and ""BLOCKING_INST_ID"" = '1' and ""ECID"" IS NULL and ""TM_DELTA_TIME"" = '30035435' and ""TM_DELTA_CPU_TIME"" = '33899' and ""TM_DELTA_DB_TIME"" = '0' and ""DELTA_TIME"" = '30034056' and ""DELTA_READ_IO_REQUESTS"" IS NULL and ""DELTA_WRITE_IO_REQUESTS"" IS NULL and ""DELTA_READ_IO_BYTES"" IS NULL and ""DELTA_WRITE_IO_BYTES"" IS NULL and ""DELTA_INTERCONNECT_IO_BYTES"" IS NULL and ""PGA_ALLOCATED"" = '3928064' and ""TEMP_SPACE_ALLOCATED"" IS NULL and ""TOP_LEVEL_CALL#"" = '0' and ""MACHINE"" = '876e4e61e05f' and ""PORT"" = '0' and ""DBREPLAY_FILE_ID"" = '0' and ""DBREPLAY_CALL_COUNTER"" = '0' and ""PX_FLAGS"" = '0' and ""CON_DBID"" = '2938215996' and ""DBOP_NAME"" IS NULL and ""DBOP_EXEC_ID"" = '0' and ""SQL_FULL_PLAN_HASH_VALUE"" = '0' and ""SQL_ADAPTIVE_PLAN_RESOLVED"" = '0' and ""USECS_PER_ROW"" = '10011080' and ""SAMPLE_TIME_UTC"" = TO_TIMESTAMP('28-FEB-25 03.42.20 PM') and ""PER_PDB"" = '1';"," 0x000006.000002b5.0084 ",23,0,,0,80,81,0,0,,,"UNKNOWN","CDB$ROOT",1,1,0,,1
3837491,0,0,"2025-02-28T21:44:39Z",,,3,10,674,"03000a00a2020000",3,10,674,"03000a00a2020000",,"INSERT",1,0,"SYS","WRH$_ACTIVE_SESSION_HISTORY,WRH$_ACTIVE_SESSION_HISTORY_2938215996_MXSN","WRH$_ACTIVE_SESSION_HISTORY",19,"TABPART","SYSAUX","AAASnaAADAAASFUAAY","UNKNOWN","UNKNOWN","UNKNOWN",0,984,56334,"UNKNOWN",1,1,6,693,132,4,16777508,18,176,3,3,74068,76250,1,76250,"insert into ""SYS"".""WRH$_ACTIVE_SESSION_HISTORY""(""SNAP_ID"",""DBID"",""INSTANCE_NUMBER"",""SAMPLE_ID"",""SAMPLE_TIME"",""SESSION_ID"",""SESSION_SERIAL#"",""USER_ID"",""SQL_ID"",""SQL_CHILD_NUMBER"",""SQL_PLAN_HASH_VALUE"",""SERVICE_HASH"",""SESSION_TYPE"",""SQL_OPCODE"",""QC_SESSION_ID"",""QC_INSTANCE_ID"",""CURRENT_OBJ#"",""CURRENT_FILE#"",""CURRENT_BLOCK#"",""SEQ#"",""EVENT_ID"",""P1"",""P2"",""P3"",""WAIT_TIME"",""TIME_WAITED"",""PROGRAM"",""MODULE"",""ACTION"",""CLIENT_ID"",""FORCE_MATCHING_SIGNATURE"",""BLOCKING_SESSION"",""BLOCKING_SESSION_SERIAL#"",""XID"",""CONSUMER_GROUP_ID"",""PLSQL_ENTRY_OBJECT_ID"",""PLSQL_ENTRY_SUBPROGRAM_ID"",""PLSQL_OBJECT_ID"",""PLSQL_SUBPROGRAM_ID"",""QC_SESSION_SERIAL#"",""REMOTE_INSTANCE#"",""SQL_PLAN_LINE_ID"",""SQL_PLAN_OPERATION#"",""SQL_PLAN_OPTIONS#"",""SQL_EXEC_ID"",""SQL_EXEC_START"",""TIME_MODEL"",""TOP_LEVEL_SQL_ID"",""TOP_LEVEL_SQL_OPCODE"",""CURRENT_ROW#"",""FLAGS"",""BLOCKING_INST_ID"",""ECID"",""TM_DELTA_TIME"",""TM_DELTA_CPU_TIME"",""TM_DELTA_DB_TIME"",""DELTA_TIME"",""DELTA_READ_IO_REQUESTS"",""DELTA_WRITE_IO_REQUESTS"",""DELTA_READ_IO_BYTES"",""DELTA_WRITE_IO_BYTES"",""DELTA_INTERCONNECT_IO_BYTES"",""PGA_ALLOCATED"",""TEMP_SPACE_ALLOCATED"",""TOP_LEVEL_CALL#"",""MACHINE"",""PORT"",""DBREPLAY_FILE_ID"",""DBREPLAY_CALL_COUNTER"",""PX_FLAGS"",""CON_DBID"",""DBOP_NAME"",""DBOP_EXEC_ID"",""SQL_FULL_PLAN_HASH_VALUE"",""SQL_ADAPTIVE_PLAN_RESOLVED"",""USECS_PER_ROW"",""SAMPLE_TIME_UTC"",""PER_PDB"") values ('10','2938215996','1','30310',TO_TIMESTAMP('28-FEB-25 04.41.50.550 PM'),'490','19029','0',NULL,'-1','0','165959219','2','0','0','0','-1','0','0','10152','866018717','300','0','0','3000102','0','oracle@876e4e61e05f (DBRM)',NULL,NULL,NULL,'0','4294967291','0',NULL,'0','0','0','0','0','0','0','0','0','0','0',NULL,'0',NULL,'0','0','16','0',NULL,'30032396','30872','0','30033800',NULL,NULL,NULL,NULL,NULL,'3928064',NULL,'0','876e4e61e05f','0','0','0','0','2938215996',NULL,'0','0','0','10012010',TO_TIMESTAMP('28-FEB-25 03.41.50 PM'),'1');","delete from ""SYS"".""WRH$_ACTIVE_SESSION_HISTORY"" where ""SNAP_ID"" = '10' and ""DBID"" = '2938215996' and ""INSTANCE_NUMBER"" = '1' and ""SAMPLE_ID"" = '30310' and ""SAMPLE_TIME"" = TO_TIMESTAMP('28-FEB-25 04.41.50.550 PM') and ""SESSION_ID"" = '490' and ""SESSION_SERIAL#"" = '19029' and ""USER_ID"" = '0' and ""SQL_ID"" IS NULL and ""SQL_CHILD_NUMBER"" = '-1' and ""SQL_PLAN_HASH_VALUE"" = '0' and ""SERVICE_HASH"" = '165959219' and ""SESSION_TYPE"" = '2' and ""SQL_OPCODE"" = '0' and ""QC_SESSION_ID"" = '0' and ""QC_INSTANCE_ID"" = '0' and ""CURRENT_OBJ#"" = '-1' and ""CURRENT_FILE#"" = '0' and ""CURRENT_BLOCK#"" = '0' and ""SEQ#"" = '10152' and ""EVENT_ID"" = '866018717' and ""P1"" = '300' and ""P2"" = '0' and ""P3"" = '0' and ""WAIT_TIME"" = '3000102' and ""TIME_WAITED"" = '0' and ""PROGRAM"" = 'oracle@876e4e61e05f (DBRM)' and ""MODULE"" IS NULL and ""ACTION"" IS NULL and ""CLIENT_ID"" IS NULL and ""FORCE_MATCHING_SIGNATURE"" = '0' and ""BLOCKING_SESSION"" = '4294967291' and ""BLOCKING_SESSION_SERIAL#"" = '0' and ""XID"" IS NULL and ""CONSUMER_GROUP_ID"" = '0' and ""PLSQL_ENTRY_OBJECT_ID"" = '0' and ""PLSQL_ENTRY_SUBPROGRAM_ID"" = '0' and ""PLSQL_OBJECT_ID"" = '0' and ""PLSQL_SUBPROGRAM_ID"" = '0' and ""QC_SESSION_SERIAL#"" = '0' and ""REMOTE_INSTANCE#"" = '0' and ""SQL_PLAN_LINE_ID"" = '0' and ""SQL_PLAN_OPERATION#"" = '0' and ""SQL_PLAN_OPTIONS#"" = '0' and ""SQL_EXEC_ID"" = '0' and ""SQL_EXEC_START"" IS NULL and ""TIME_MODEL"" = '0' and ""TOP_LEVEL_SQL_ID"" IS NULL and ""TOP_LEVEL_SQL_OPCODE"" = '0' and ""CURRENT_ROW#"" = '0' and ""FLAGS"" = '16' and ""BLOCKING_INST_ID"" = '0' and ""ECID"" IS NULL and ""TM_DELTA_TIME"" = '30032396' and ""TM_DELTA_CPU_TIME"" = '30872' and ""TM_DELTA_DB_TIME"" = '0' and ""DELTA_TIME"" = '30033800' and ""DELTA_READ_IO_REQUESTS"" IS NULL and ""DELTA_WRITE_IO_REQUESTS"" IS NULL and ""DELTA_READ_IO_BYTES"" IS NULL and ""DELTA_WRITE_IO_BYTES"" IS NULL and ""DELTA_INTERCONNECT_IO_BYTES"" IS NULL and ""PGA_ALLOCATED"" = '3928064' and ""TEMP_SPACE_ALLOCATED"" IS NULL and ""TOP_LEVEL_CALL#"" = '0' and ""MACHINE"" = '876e4e61e05f' and ""PORT"" = '0' and ""DBREPLAY_FILE_ID"" = '0' and ""DBREPLAY_CALL_COUNTER"" = '0' and ""PX_FLAGS"" = '0' and ""CON_DBID"" = '2938215996' and ""DBOP_NAME"" IS NULL and ""DBOP_EXEC_ID"" = '0' and ""SQL_FULL_PLAN_HASH_VALUE"" = '0' and ""SQL_ADAPTIVE_PLAN_RESOLVED"" = '0' and ""USECS_PER_ROW"" = '10012010' and ""SAMPLE_TIME_UTC"" = TO_TIMESTAMP('28-FEB-25 03.41.50 PM') and ""PER_PDB"" = '1';"," 0x000006.000002b5.0084 ",24,0,,0,82,83,0,0,,,"UNKNOWN","CDB$ROOT",1,1,0,,1
3837491,0,0,"2025-02-28T21:44:39Z",,,3,10,674,"03000a00a2020000",3,10,674,"03000a00a2020000",,"INSERT",1,0,"SYS","WRH$_ACTIVE_SESSION_HISTORY,WRH$_ACTIVE_SESSION_HISTORY_2938215996_MXSN","WRH$_ACTIVE_SESSION_HISTORY",19,"TABPART","SYSAUX","AAASnaAADAAASFUAAZ","UNKNOWN","UNKNOWN","UNKNOWN",0,984,56334,"UNKNOWN",1,1,6,693,132,4,16777508,18,176,3,3,74068,76250,1,76250,"insert into ""SYS"".""WRH$_ACTIVE_SESSION_HISTORY""(""SNAP_ID"",""DBID"",""INSTANCE_NUMBER"",""SAMPLE_ID"",""SAMPLE_TIME"",""SESSION_ID"",""SESSION_SERIAL#"",""USER_ID"",""SQL_ID"",""SQL_CHILD_NUMBER"",""SQL_PLAN_HASH_VALUE"",""SERVICE_HASH"",""SESSION_TYPE"",""SQL_OPCODE"",""QC_SESSION_ID"",""QC_INSTANCE_ID"",""CURRENT_OBJ#"",""CURRENT_FILE#"",""CURRENT_BLOCK#"",""SEQ#"",""EVENT_ID"",""P1"",""P2"",""P3"",""WAIT_TIME"",""TIME_WAITED"",""PROGRAM"",""MODULE"",""ACTION"",""CLIENT_ID"",""FORCE_MATCHING_SIGNATURE"",""BLOCKING_SESSION"",""BLOCKING_SESSION_SERIAL#"",""XID"",""CONSUMER_GROUP_ID"",""PLSQL_ENTRY_OBJECT_ID"",""PLSQL_ENTRY_SUBPROGRAM_ID"",""PLSQL_OBJECT_ID"",""PLSQL_SUBPROGRAM_ID"",""QC_SESSION_SERIAL#"",""REMOTE_INSTANCE#"",""SQL_PLAN_LINE_ID"",""SQL_PLAN_OPERATION#"",""SQL_PLAN_OPTIONS#"",""SQL_EXEC_ID"",""SQL_EXEC_START"",""TIME_MODEL"",""TOP_LEVEL_SQL_ID"",""TOP_LEVEL_SQL_OPCODE"",""CURRENT_ROW#"",""FLAGS"",""BLOCKING_INST_ID"",""ECID"",""TM_DELTA_TIME"",""TM_DELTA_CPU_TIME"",""TM_DELTA_DB_TIME"",""DELTA_TIME"",""DELTA_READ_IO_REQUESTS"",""DELTA_WRITE_IO_REQUESTS"",""DELTA_READ_IO_BYTES"",""DELTA_WRITE_IO_BYTES"",""DELTA_INTERCONNECT_IO_BYTES"",""PGA_ALLOCATED"",""TEMP_SPACE_ALLOCATED"",""TOP_LEVEL_CALL#"",""MACHINE"",""PORT"",""DBREPLAY_FILE_ID"",""DBREPLAY_CALL_COUNTER"",""PX_FLAGS"",""CON_DBID"",""DBOP_NAME"",""DBOP_EXEC_ID"",""SQL_FULL_PLAN_HASH_VALUE"",""SQL_ADAPTIVE_PLAN_RESOLVED"",""USECS_PER_ROW"",""SAMPLE_TIME_UTC"",""PER_PDB"") values ('10','2938215996','1','30280',TO_TIMESTAMP('28-FEB-25 04.41.20.517 PM'),'490','19029','0',NULL,'-1','0','165959219','2','0','0','0','-1','0','0','10142','866018717','300','0','0','3000122','0','oracle@876e4e61e05f (DBRM)',NULL,NULL,NULL,'0','4294967291','0',NULL,'0','0','0','0','0','0','0','0','0','0','0',NULL,'0',NULL,'0','0','16','1',NULL,'30033111','31533','0','30032010',NULL,NULL,NULL,NULL,NULL,'3928064',NULL,'0','876e4e61e05f','0','0','0','0','2938215996',NULL,'0','0','0','10011830',TO_TIMESTAMP('28-FEB-25 03.41.20 PM'),'1');","delete from ""SYS"".""WRH$_ACTIVE_SESSION_HISTORY"" where ""SNAP_ID"" = '10' and ""DBID"" = '2938215996' and ""INSTANCE_NUMBER"" = '1' and ""SAMPLE_ID"" = '30280' and ""SAMPLE_TIME"" = TO_TIMESTAMP('28-FEB-25 04.41.20.517 PM') and ""SESSION_ID"" = '490' and ""SESSION_SERIAL#"" = '19029' and ""USER_ID"" = '0' and ""SQL_ID"" IS NULL and ""SQL_CHILD_NUMBER"" = '-1' and ""SQL_PLAN_HASH_VALUE"" = '0' and ""SERVICE_HASH"" = '165959219' and ""SESSION_TYPE"" = '2' and ""SQL_OPCODE"" = '0' and ""QC_SESSION_ID"" = '0' and ""QC_INSTANCE_ID"" = '0' and ""CURRENT_OBJ#"" = '-1' and ""CURRENT_FILE#"" = '0' and ""CURRENT_BLOCK#"" = '0' and ""SEQ#"" = '10142' and ""EVENT_ID"" = '866018717' and ""P1"" = '300' and ""P2"" = '0' and ""P3"" = '0' and ""WAIT_TIME"" = '3000122' and ""TIME_WAITED"" = '0' and ""PROGRAM"" = 'oracle@876e4e61e05f (DBRM)' and ""MODULE"" IS NULL and ""ACTION"" IS NULL and ""CLIENT_ID"" IS NULL and ""FORCE_MATCHING_SIGNATURE"" = '0' and ""BLOCKING_SESSION"" = '4294967291' and ""BLOCKING_SESSION_SERIAL#"" = '0' and ""XID"" IS NULL and ""CONSUMER_GROUP_ID"" = '0' and ""PLSQL_ENTRY_OBJECT_ID"" = '0' and ""PLSQL_ENTRY_SUBPROGRAM_ID"" = '0' and ""PLSQL_OBJECT_ID"" = '0' and ""PLSQL_SUBPROGRAM_ID"" = '0' and ""QC_SESSION_SERIAL#"" = '0' and ""REMOTE_INSTANCE#"" = '0' and ""SQL_PLAN_LINE_ID"" = '0' and ""SQL_PLAN_OPERATION#"" = '0' and ""SQL_PLAN_OPTIONS#"" = '0' and ""SQL_EXEC_ID"" = '0' and ""SQL_EXEC_START"" IS NULL and ""TIME_MODEL"" = '0' and ""TOP_LEVEL_SQL_ID"" IS NULL and ""TOP_LEVEL_SQL_OPCODE"" = '0' and ""CURRENT_ROW#"" = '0' and ""FLAGS"" = '16' and ""BLOCKING_INST_ID"" = '1' and ""ECID"" IS NULL and ""TM_DELTA_TIME"" = '30033111' and ""TM_DELTA_CPU_TIME"" = '31533' and ""TM_DELTA_DB_TIME"" = '0' and ""DELTA_TIME"" = '30032010' and ""DELTA_READ_IO_REQUESTS"" IS NULL and ""DELTA_WRITE_IO_REQUESTS"" IS NULL and ""DELTA_READ_IO_BYTES"" IS NULL and ""DELTA_WRITE_IO_BYTES"" IS NULL and ""DELTA_INTERCONNECT_IO_BYTES"" IS NULL and ""PGA_ALLOCATED"" = '3928064' and ""TEMP_SPACE_ALLOCATED"" IS NULL and ""TOP_LEVEL_CALL#"" = '0' and ""MACHINE"" = '876e4e61e05f' and ""PORT"" = '0' and ""DBREPLAY_FILE_ID"" = '0' and ""DBREPLAY_CALL_COUNTER"" = '0' and ""PX_FLAGS"" = '0' and ""CON_DBID"" = '2938215996' and ""DBOP_NAME"" IS NULL and ""DBOP_EXEC_ID"" = '0' and ""SQL_FULL_PLAN_HASH_VALUE"" = '0' and ""SQL_ADAPTIVE_PLAN_RESOLVED"" = '0' and ""USECS_PER_ROW"" = '10011830' and ""SAMPLE_TIME_UTC"" = TO_TIMESTAMP('28-FEB-25 03.41.20 PM') and ""PER_PDB"" = '1';"," 0x000006.000002b5.0084 ",25,0,,0,84,85,0,0,,,"UNKNOWN","CDB$ROOT",1,1,0,,1
3837491,0,0,"2025-02-28T21:44:39Z",,,3,10,674,"03000a00a2020000",3,10,674,"03000a00a2020000",,"INSERT",1,0,"SYS","WRH$_ACTIVE_SESSION_HISTORY,WRH$_ACTIVE_SESSION_HISTORY_2938215996_MXSN","WRH$_ACTIVE_SESSION_HISTORY",19,"TABPART","SYSAUX","AAASnaAADAAASFVAAI","UNKNOWN","UNKNOWN","UNKNOWN",0,984,56334,"UNKNOWN",1,1,6,696,436,4,16777508,19,176,3,3,74069,76250,1,76250,"insert into ""SYS"".""WRH$_ACTIVE_SESSION_HISTORY""(""SNAP_ID"",""DBID"",""INSTANCE_NUMBER"",""SAMPLE_ID"",""SAMPLE_TIME"",""SESSION_ID"",""SESSION_SERIAL#"",""USER_ID"",""SQL_ID"",""SQL_CHILD_NUMBER"",""SQL_PLAN_HASH_VALUE"",""SERVICE_HASH"",""SESSION_TYPE"",""SQL_OPCODE"",""QC_SESSION_ID"",""QC_INSTANCE_ID"",""CURRENT_OBJ#"",""CURRENT_FILE#"",""CURRENT_BLOCK#"",""SEQ#"",""EVENT_ID"",""P1"",""P2"",""P3"",""WAIT_TIME"",""TIME_WAITED"",""PROGRAM"",""MODULE"",""ACTION"",""CLIENT_ID"",""FORCE_MATCHING_SIGNATURE"",""BLOCKING_SESSION"",""BLOCKING_SESSION_SERIAL#"",""XID"",""CONSUMER_GROUP_ID"",""PLSQL_ENTRY_OBJECT_ID"",""PLSQL_ENTRY_SUBPROGRAM_ID"",""PLSQL_OBJECT_ID"",""PLSQL_SUBPROGRAM_ID"",""QC_SESSION_SERIAL#"",""REMOTE_INSTANCE#"",""SQL_PLAN_LINE_ID"",""SQL_PLAN_OPERATION#"",""SQL_PLAN_OPTIONS#"",""SQL_EXEC_ID"",""SQL_EXEC_START"",""TIME_MODEL"",""TOP_LEVEL_SQL_ID"",""TOP_LEVEL_SQL_OPCODE"",""CURRENT_ROW#"",""FLAGS"",""BLOCKING_INST_ID"",""ECID"",""TM_DELTA_TIME"",""TM_DELTA_CPU_TIME"",""TM_DELTA_DB_TIME"",""DELTA_TIME"",""DELTA_READ_IO_REQUESTS"",""DELTA_WRITE_IO_REQUESTS"",""DELTA_READ_IO_BYTES"",""DELTA_WRITE_IO_BYTES"",""DELTA_INTERCONNECT_IO_BYTES"",""PGA_ALLOCATED"",""TEMP_SPACE_ALLOCATED"",""TOP_LEVEL_CALL#"",""MACHINE"",""PORT"",""DBREPLAY_FILE_ID"",""DBREPLAY_CALL_COUNTER"",""PX_FLAGS"",""CON_DBID"",""DBOP_NAME"",""DBOP_EXEC_ID"",""SQL_FULL_PLAN_HASH_VALUE"",""SQL_ADAPTIVE_PLAN_RESOLVED"",""USECS_PER_ROW"",""SAMPLE_TIME_UTC"",""PER_PDB"") values ('10','2938215996','1','30250',TO_TIMESTAMP('28-FEB-25 04.40.50.485 PM'),'490','19029','0',NULL,'-1','0','165959219','2','0','0','0','-1','0','0','10132','866018717','300','0','0','3000079','0','oracle@876e4e61e05f (DBRM)',NULL,NULL,NULL,'0','4294967291','0',NULL,'0','0','0','0','0','0','0','0','0','0','0',NULL,'0',NULL,'0','0','16','1',NULL,'30030095','28569','0','30030217',NULL,NULL,NULL,NULL,NULL,'3928064',NULL,'0','876e4e61e05f','0','0','0','0','2938215996',NULL,'0','0','0','10010150',TO_TIMESTAMP('28-FEB-25 03.40.50 PM'),'1');","delete from ""SYS"".""WRH$_ACTIVE_SESSION_HISTORY"" where ""SNAP_ID"" = '10' and ""DBID"" = '2938215996' and ""INSTANCE_NUMBER"" = '1' and ""SAMPLE_ID"" = '30250' and ""SAMPLE_TIME"" = TO_TIMESTAMP('28-FEB-25 04.40.50.485 PM') and ""SESSION_ID"" = '490' and ""SESSION_SERIAL#"" = '19029' and ""USER_ID"" = '0' and ""SQL_ID"" IS NULL and ""SQL_CHILD_NUMBER"" = '-1' and ""SQL_PLAN_HASH_VALUE"" = '0' and ""SERVICE_HASH"" = '165959219' and ""SESSION_TYPE"" = '2' and ""SQL_OPCODE"" = '0' and ""QC_SESSION_ID"" = '0' and ""QC_INSTANCE_ID"" = '0' and ""CURRENT_OBJ#"" = '-1' and ""CURRENT_FILE#"" = '0' and ""CURRENT_BLOCK#"" = '0' and ""SEQ#"" = '10132' and ""EVENT_ID"" = '866018717' and ""P1"" = '300' and ""P2"" = '0' and ""P3"" = '0' and ""WAIT_TIME"" = '3000079' and ""TIME_WAITED"" = '0' and ""PROGRAM"" = 'oracle@876e4e61e05f (DBRM)' and ""MODULE"" IS NULL and ""ACTION"" IS NULL and ""CLIENT_ID"" IS NULL and ""FORCE_MATCHING_SIGNATURE"" = '0' and ""BLOCKING_SESSION"" = '4294967291' and ""BLOCKING_SESSION_SERIAL#"" = '0' and ""XID"" IS NULL and ""CONSUMER_GROUP_ID"" = '0' and ""PLSQL_ENTRY_OBJECT_ID"" = '0' and ""PLSQL_ENTRY_SUBPROGRAM_ID"" = '0' and ""PLSQL_OBJECT_ID"" = '0' and ""PLSQL_SUBPROGRAM_ID"" = '0' and ""QC_SESSION_SERIAL#"" = '0' and ""REMOTE_INSTANCE#"" = '0' and ""SQL_PLAN_LINE_ID"" = '0' and ""SQL_PLAN_OPERATION#"" = '0' and ""SQL_PLAN_OPTIONS#"" = '0' and ""SQL_EXEC_ID"" = '0' and ""SQL_EXEC_START"" IS NULL and ""TIME_MODEL"" = '0' and ""TOP_LEVEL_SQL_ID"" IS NULL and ""TOP_LEVEL_SQL_OPCODE"" = '0' and ""CURRENT_ROW#"" = '0' and ""FLAGS"" = '16' and ""BLOCKING_INST_ID"" = '1' and ""ECID"" IS NULL and ""TM_DELTA_TIME"" = '30030095' and ""TM_DELTA_CPU_TIME"" = '28569' and ""TM_DELTA_DB_TIME"" = '0' and ""DELTA_TIME"" = '30030217' and ""DELTA_READ_IO_REQUESTS"" IS NULL and ""DELTA_WRITE_IO_REQUESTS"" IS NULL and ""DELTA_READ_IO_BYTES"" IS NULL and ""DELTA_WRITE_IO_BYTES"" IS NULL and ""DELTA_INTERCONNECT_IO_BYTES"" IS NULL and ""PGA_ALLOCATED"" = '3928064' and ""TEMP_SPACE_ALLOCATED"" IS NULL and ""TOP_LEVEL_CALL#"" = '0' and ""MACHINE"" = '876e4e61e05f' and ""PORT"" = '0' and ""DBREPLAY_FILE_ID"" = '0' and ""DBREPLAY_CALL_COUNTER"" = '0' and ""PX_FLAGS"" = '0' and ""CON_DBID"" = '2938215996' and ""DBOP_NAME"" IS NULL and ""DBOP_EXEC_ID"" = '0' and ""SQL_FULL_PLAN_HASH_VALUE"" = '0' and ""SQL_ADAPTIVE_PLAN_RESOLVED"" = '0' and ""USECS_PER_ROW"" = '10010150' and ""SAMPLE_TIME_UTC"" = TO_TIMESTAMP('28-FEB-25 03.40.50 PM') and ""PER_PDB"" = '1';"," 0x000006.000002b8.01b4 ",8,0,,0,86,87,0,0,,,"UNKNOWN","CDB$ROOT",1,1,0,,1
3837491,0,0,"2025-02-28T21:44:39Z",,,3,10,674,"03000a00a2020000",3,10,674,"03000a00a2020000",,"INSERT",1,0,"SYS","WRH$_ACTIVE_SESSION_HISTORY,WRH$_ACTIVE_SESSION_HISTORY_2938215996_MXSN","WRH$_ACTIVE_SESSION_HISTORY",19,"TABPART","SYSAUX","AAASnaAADAAASFVAAJ","UNKNOWN","UNKNOWN","UNKNOWN",0,984,56334,"UNKNOWN",1,1,6,696,436,4,16777508,19,176,3,3,74069,76250,1,76250,"insert into ""SYS"".""WRH$_ACTIVE_SESSION_HISTORY""(""SNAP_ID"",""DBID"",""INSTANCE_NUMBER"",""SAMPLE_ID"",""SAMPLE_TIME"",""SESSION_ID"",""SESSION_SERIAL#"",""USER_ID"",""SQL_ID"",""SQL_CHILD_NUMBER"",""SQL_PLAN_HASH_VALUE"",""SERVICE_HASH"",""SESSION_TYPE"",""SQL_OPCODE"",""QC_SESSION_ID"",""QC_INSTANCE_ID"",""CURRENT_OBJ#"",""CURRENT_FILE#"",""CURRENT_BLOCK#"",""SEQ#"",""EVENT_ID"",""P1"",""P2"",""P3"",""WAIT_TIME"",""TIME_WAITED"",""PROGRAM"",""MODULE"",""ACTION"",""CLIENT_ID"",""FORCE_MATCHING_SIGNATURE"",""BLOCKING_SESSION"",""BLOCKING_SESSION_SERIAL#"",""XID"",""CONSUMER_GROUP_ID"",""PLSQL_ENTRY_OBJECT_ID"",""PLSQL_ENTRY_SUBPROGRAM_ID"",""PLSQL_OBJECT_ID"",""PLSQL_SUBPROGRAM_ID"",""QC_SESSION_SERIAL#"",""REMOTE_INSTANCE#"",""SQL_PLAN_LINE_ID"",""SQL_PLAN_OPERATION#"",""SQL_PLAN_OPTIONS#"",""SQL_EXEC_ID"",""SQL_EXEC_START"",""TIME_MODEL"",""TOP_LEVEL_SQL_ID"",""TOP_LEVEL_SQL_OPCODE"",""CURRENT_ROW#"",""FLAGS"",""BLOCKING_INST_ID"",""ECID"",""TM_DELTA_TIME"",""TM_DELTA_CPU_TIME"",""TM_DELTA_DB_TIME"",""DELTA_TIME"",""DELTA_READ_IO_REQUESTS"",""DELTA_WRITE_IO_REQUESTS"",""DELTA_READ_IO_BYTES"",""DELTA_WRITE_IO_BYTES"",""DELTA_INTERCONNECT_IO_BYTES"",""PGA_ALLOCATED"",""TEMP_SPACE_ALLOCATED"",""TOP_LEVEL_CALL#"",""MACHINE"",""PORT"",""DBREPLAY_FILE_ID"",""DBREPLAY_CALL_COUNTER"",""PX_FLAGS"",""CON_DBID"",""DBOP_NAME"",""DBOP_EXEC_ID"",""SQL_FULL_PLAN_HASH_VALUE"",""SQL_ADAPTIVE_PLAN_RESOLVED"",""USECS_PER_ROW"",""SAMPLE_TIME_UTC"",""PER_PDB"") values ('10','2938215996','1','30220',TO_TIMESTAMP('28-FEB-25 04.40.20.454 PM'),'490','19029','0',NULL,'-1','0','165959219','2','0','0','0','-1','0','0','10122','866018717','300','0','0','3000079','0','oracle@876e4e61e05f (DBRM)',NULL,NULL,NULL,'0','4294967291','0',NULL,'0','0','0','0','0','0','0','0','0','0','0',NULL,'0',NULL,'0','0','16','0',NULL,'30024876','23652','0','30025049',NULL,NULL,NULL,NULL,NULL,'3928064',NULL,'0','876e4e61e05f','0','0','0','0','2938215996',NULL,'0','0','0','10005800',TO_TIMESTAMP('28-FEB-25 03.40.20 PM'),'1');","delete from ""SYS"".""WRH$_ACTIVE_SESSION_HISTORY"" where ""SNAP_ID"" = '10' and ""DBID"" = '2938215996' and ""INSTANCE_NUMBER"" = '1' and ""SAMPLE_ID"" = '30220' and ""SAMPLE_TIME"" = TO_TIMESTAMP('28-FEB-25 04.40.20.454 PM') and ""SESSION_ID"" = '490' and ""SESSION_SERIAL#"" = '19029' and ""USER_ID"" = '0' and ""SQL_ID"" IS NULL and ""SQL_CHILD_NUMBER"" = '-1' and ""SQL_PLAN_HASH_VALUE"" = '0' and ""SERVICE_HASH"" = '165959219' and ""SESSION_TYPE"" = '2' and ""SQL_OPCODE"" = '0' and ""QC_SESSION_ID"" = '0' and ""QC_INSTANCE_ID"" = '0' and ""CURRENT_OBJ#"" = '-1' and ""CURRENT_FILE#"" = '0' and ""CURRENT_BLOCK#"" = '0' and ""SEQ#"" = '10122' and ""EVENT_ID"" = '866018717' and ""P1"" = '300' and ""P2"" = '0' and ""P3"" = '0' and ""WAIT_TIME"" = '3000079' and ""TIME_WAITED"" = '0' and ""PROGRAM"" = 'oracle@876e4e61e05f (DBRM)' and ""MODULE"" IS NULL and ""ACTION"" IS NULL and ""CLIENT_ID"" IS NULL and ""FORCE_MATCHING_SIGNATURE"" = '0' and ""BLOCKING_SESSION"" = '4294967291' and ""BLOCKING_SESSION_SERIAL#"" = '0' and ""XID"" IS NULL and ""CONSUMER_GROUP_ID"" = '0' and ""PLSQL_ENTRY_OBJECT_ID"" = '0' and ""PLSQL_ENTRY_SUBPROGRAM_ID"" = '0' and ""PLSQL_OBJECT_ID"" = '0' and ""PLSQL_SUBPROGRAM_ID"" = '0' and ""QC_SESSION_SERIAL#"" = '0' and ""REMOTE_INSTANCE#"" = '0' and ""SQL_PLAN_LINE_ID"" = '0' and ""SQL_PLAN_OPERATION#"" = '0' and ""SQL_PLAN_OPTIONS#"" = '0' and ""SQL_EXEC_ID"" = '0' and ""SQL_EXEC_START"" IS NULL and ""TIME_MODEL"" = '0' and ""TOP_LEVEL_SQL_ID"" IS NULL and ""TOP_LEVEL_SQL_OPCODE"" = '0' and ""CURRENT_ROW#"" = '0' and ""FLAGS"" = '16' and ""BLOCKING_INST_ID"" = '0' and ""ECID"" IS NULL and ""TM_DELTA_TIME"" = '30024876' and ""TM_DELTA_CPU_TIME"" = '23652' and ""TM_DELTA_DB_TIME"" = '0' and ""DELTA_TIME"" = '30025049' and ""DELTA_READ_IO_REQUESTS"" IS NULL and ""DELTA_WRITE_IO_REQUESTS"" IS NULL and ""DELTA_READ_IO_BYTES"" IS NULL and ""DELTA_WRITE_IO_BYTES"" IS NULL and ""DELTA_INTERCONNECT_IO_BYTES"" IS NULL and ""PGA_ALLOCATED"" = '3928064' and ""TEMP_SPACE_ALLOCATED"" IS NULL and ""TOP_LEVEL_CALL#"" = '0' and ""MACHINE"" = '876e4e61e05f' and ""PORT"" = '0' and ""DBREPLAY_FILE_ID"" = '0' and ""DBREPLAY_CALL_COUNTER"" = '0' and ""PX_FLAGS"" = '0' and ""CON_DBID"" = '2938215996' and ""DBOP_NAME"" IS NULL and ""DBOP_EXEC_ID"" = '0' and ""SQL_FULL_PLAN_HASH_VALUE"" = '0' and ""SQL_ADAPTIVE_PLAN_RESOLVED"" = '0' and ""USECS_PER_ROW"" = '10005800' and ""SAMPLE_TIME_UTC"" = TO_TIMESTAMP('28-FEB-25 03.40.20 PM') and ""PER_PDB"" = '1';"," 0x000006.000002b8.01b4 ",9,0,,0,88,89,0,0,,,"UNKNOWN","CDB$ROOT",1,1,0,,1
3837491,0,0,"2025-02-28T21:44:39Z",,,3,10,674,"03000a00a2020000",3,10,674,"03000a00a2020000",,"INSERT",1,0,"SYS","WRH$_ACTIVE_SESSION_HISTORY,WRH$_ACTIVE_SESSION_HISTORY_2938215996_MXSN","WRH$_ACTIVE_SESSION_HISTORY",19,"TABPART","SYSAUX","AAASnaAADAAASFVAAK","UNKNOWN","UNKNOWN","UNKNOWN",0,984,56334,"UNKNOWN",1,1,6,696,436,4,16777508,19,176,3,3,74069,76250,1,76250,"insert into ""SYS"".""WRH$_ACTIVE_SESSION_HISTORY""(""SNAP_ID"",""DBID"",""INSTANCE_NUMBER"",""SAMPLE_ID"",""SAMPLE_TIME"",""SESSION_ID"",""SESSION_SERIAL#"",""USER_ID"",""SQL_ID"",""SQL_CHILD_NUMBER"",""SQL_PLAN_HASH_VALUE"",""SERVICE_HASH"",""SESSION_TYPE"",""SQL_OPCODE"",""QC_SESSION_ID"",""QC_INSTANCE_ID"",""CURRENT_OBJ#"",""CURRENT_FILE#"",""CURRENT_BLOCK#"",""SEQ#"",""EVENT_ID"",""P1"",""P2"",""P3"",""WAIT_TIME"",""TIME_WAITED"",""PROGRAM"",""MODULE"",""ACTION"",""CLIENT_ID"",""FORCE_MATCHING_SIGNATURE"",""BLOCKING_SESSION"",""BLOCKING_SESSION_SERIAL#"",""XID"",""CONSUMER_GROUP_ID"",""PLSQL_ENTRY_OBJECT_ID"",""PLSQL_ENTRY_SUBPROGRAM_ID"",""PLSQL_OBJECT_ID"",""PLSQL_SUBPROGRAM_ID"",""QC_SESSION_SERIAL#"",""REMOTE_INSTANCE#"",""SQL_PLAN_LINE_ID"",""SQL_PLAN_OPERATION#"",""SQL_PLAN_OPTIONS#"",""SQL_EXEC_ID"",""SQL_EXEC_START"",""TIME_MODEL"",""TOP_LEVEL_SQL_ID"",""TOP_LEVEL_SQL_OPCODE"",""CURRENT_ROW#"",""FLAGS"",""BLOCKING_INST_ID"",""ECID"",""TM_DELTA_TIME"",""TM_DELTA_CPU_TIME"",""TM_DELTA_DB_TIME"",""DELTA_TIME"",""DELTA_READ_IO_REQUESTS"",""DELTA_WRITE_IO_REQUESTS"",""DELTA_READ_IO_BYTES"",""DELTA_WRITE_IO_BYTES"",""DELTA_INTERCONNECT_IO_BYTES"",""PGA_ALLOCATED"",""TEMP_SPACE_ALLOCATED"",""TOP_LEVEL_CALL#"",""MACHINE"",""PORT"",""DBREPLAY_FILE_ID"",""DBREPLAY_CALL_COUNTER"",""PX_FLAGS"",""CON_DBID"",""DBOP_NAME"",""DBOP_EXEC_ID"",""SQL_FULL_PLAN_HASH_VALUE"",""SQL_ADAPTIVE_PLAN_RESOLVED"",""USECS_PER_ROW"",""SAMPLE_TIME_UTC"",""PER_PDB"") values ('10','2938215996','1','30190',TO_TIMESTAMP('28-FEB-25 04.39.50.429 PM'),'490','19029','0',NULL,'-1','0','165959219','2','0','0','0','-1','0','0','10112','866018717','300','0','0','3000067','0','oracle@876e4e61e05f (DBRM)',NULL,NULL,NULL,'0','4294967291','0',NULL,'0','0','0','0','0','0','0','0','0','0','0',NULL,'0',NULL,'0','0','16','0',NULL,'30025988','24593','0','30025921',NULL,NULL,NULL,NULL,NULL,'3928064',NULL,'0','876e4e61e05f','0','0','0','0','2938215996',NULL,'0','0','0','10010040',TO_TIMESTAMP('28-FEB-25 03.39.50 PM'),'1');","delete from ""SYS"".""WRH$_ACTIVE_SESSION_HISTORY"" where ""SNAP_ID"" = '10' and ""DBID"" = '2938215996' and ""INSTANCE_NUMBER"" = '1' and ""SAMPLE_ID"" = '30190' and ""SAMPLE_TIME"" = TO_TIMESTAMP('28-FEB-25 04.39.50.429 PM') and ""SESSION_ID"" = '490' and ""SESSION_SERIAL#"" = '19029' and ""USER_ID"" = '0' and ""SQL_ID"" IS NULL and ""SQL_CHILD_NUMBER"" = '-1' and ""SQL_PLAN_HASH_VALUE"" = '0' and ""SERVICE_HASH"" = '165959219' and ""SESSION_TYPE"" = '2' and ""SQL_OPCODE"" = '0' and ""QC_SESSION_ID"" = '0' and ""QC_INSTANCE_ID"" = '0' and ""CURRENT_OBJ#"" = '-1' and ""CURRENT_FILE#"" = '0' and ""CURRENT_BLOCK#"" = '0' and ""SEQ#"" = '10112' and ""EVENT_ID"" = '866018717' and ""P1"" = '300' and ""P2"" = '0' and ""P3"" = '0' and ""WAIT_TIME"" = '3000067' and ""TIME_WAITED"" = '0' and ""PROGRAM"" = 'oracle@876e4e61e05f (DBRM)' and ""MODULE"" IS NULL and ""ACTION"" IS NULL and ""CLIENT_ID"" IS NULL and ""FORCE_MATCHING_SIGNATURE"" = '0' and ""BLOCKING_SESSION"" = '4294967291' and ""BLOCKING_SESSION_SERIAL#"" = '0' and ""XID"" IS NULL and ""CONSUMER_GROUP_ID"" = '0' and ""PLSQL_ENTRY_OBJECT_ID"" = '0' and ""PLSQL_ENTRY_SUBPROGRAM_ID"" = '0' and ""PLSQL_OBJECT_ID"" = '0' and ""PLSQL_SUBPROGRAM_ID"" = '0' and ""QC_SESSION_SERIAL#"" = '0' and ""REMOTE_INSTANCE#"" = '0' and ""SQL_PLAN_LINE_ID"" = '0' and ""SQL_PLAN_OPERATION#"" = '0' and ""SQL_PLAN_OPTIONS#"" = '0' and ""SQL_EXEC_ID"" = '0' and ""SQL_EXEC_START"" IS NULL and ""TIME_MODEL"" = '0' and ""TOP_LEVEL_SQL_ID"" IS NULL and ""TOP_LEVEL_SQL_OPCODE"" = '0' and ""CURRENT_ROW#"" = '0' and ""FLAGS"" = '16' and ""BLOCKING_INST_ID"" = '0' and ""ECID"" IS NULL and ""TM_DELTA_TIME"" = '30025988' and ""TM_DELTA_CPU_TIME"" = '24593' and ""TM_DELTA_DB_TIME"" = '0' and ""DELTA_TIME"" = '30025921' and ""DELTA_READ_IO_REQUESTS"" IS NULL and ""DELTA_WRITE_IO_REQUESTS"" IS NULL and ""DELTA_READ_IO_BYTES"" IS NULL and ""DELTA_WRITE_IO_BYTES"" IS NULL and ""DELTA_INTERCONNECT_IO_BYTES"" IS NULL and ""PGA_ALLOCATED"" = '3928064' and ""TEMP_SPACE_ALLOCATED"" IS NULL and ""TOP_LEVEL_CALL#"" = '0' and ""MACHINE"" = '876e4e61e05f' and ""PORT"" = '0' and ""DBREPLAY_FILE_ID"" = '0' and ""DBREPLAY_CALL_COUNTER"" = '0' and ""PX_FLAGS"" = '0' and ""CON_DBID"" = '2938215996' and ""DBOP_NAME"" IS NULL and ""DBOP_EXEC_ID"" = '0' and ""SQL_FULL_PLAN_HASH_VALUE"" = '0' and ""SQL_ADAPTIVE_PLAN_RESOLVED"" = '0' and ""USECS_PER_ROW"" = '10010040' and ""SAMPLE_TIME_UTC"" = TO_TIMESTAMP('28-FEB-25 03.39.50 PM') and ""PER_PDB"" = '1';"," 0x000006.000002b8.01b4 ",10,0,,0,90,91,0,0,,,"UNKNOWN","CDB$ROOT",1,1,0,,1
3837491,0,0,"2025-02-28T21:44:39Z",,,3,10,674,"03000a00a2020000",3,10,674,"03000a00a2020000",,"INSERT",1,0,"SYS","WRM$_SNAPSHOT_DETAILS,WRM$_SNAPSHOT_DETAILS_2938215996_MXSN","WRM$_SNAPSHOT_DETAILS",19,"TABPART","SYSAUX","AAASqqAADAAASFkABb","UNKNOWN","UNKNOWN","UNKNOWN",0,984,56334,"UNKNOWN",1,1,6,700,408,4,16777508,21,176,3,3,74084,76458,1,76458,"insert into ""SYS"".""WRM$_SNAPSHOT_DETAILS""(""SNAP_ID"",""DBID"",""INSTANCE_NUMBER"",""TABLE_ID"",""BEGIN_TIME"",""END_TIME"",""STEP_ID"") values ('10','2938215996','1','45',TO_TIMESTAMP('28-FEB-25 04.44.39.619 PM'),TO_TIMESTAMP('28-FEB-25 04.44.39.620 PM'),'9');","delete from ""SYS"".""WRM$_SNAPSHOT_DETAILS"" where ""SNAP_ID"" = '10' and ""DBID"" = '2938215996' and ""INSTANCE_NUMBER"" = '1' and ""TABLE_ID"" = '45' and ""BEGIN_TIME"" = TO_TIMESTAMP('28-FEB-25 04.44.39.619 PM') and ""END_TIME"" = TO_TIMESTAMP('28-FEB-25 04.44.39.620 PM') and ""STEP_ID"" = '9';"," 0x000006.000002bc.0198 ",91,0,,0,92,93,0,0,,,"UNKNOWN","CDB$ROOT",1,1,0,,1
3837492,3837491,3837492,"2025-02-28T21:44:39Z","2025-02-28T21:44:39Z","2025-02-28T21:44:39Z",3,10,674,"03000a00a2020000",3,10,674,"03000a00a2020000",,"COMMIT",7,0,,,,0,,,"AAAAAAAAAAAAAAAAAA","UNKNOWN","UNKNOWN","UNKNOWN",0,984,56334,"UNKNOWN",1,1,6,702,172,4,0,0,0,4,0,0,0,0,0,"commit;",," 0x000006.000002be.00ac ",0,0,,0,94,95,3837492,3837492,,,"UNKNOWN","CDB$ROOT",1,1,0,,1
```

> **_NOTE_:** 
> The above output is the raw output from LogMiner.

### Transactions - Performing a mining step and outputs aggregated transaction details

The `transactions` command queries information from `V$LOGMNR_CONTENTS` performance view after creating a LogMiner session.
This provides all changes between a start and end SCN range, creating a series of change counts by transaction.

To use this command, several additional arguments are required:

* `--hostname` specifies the Oracle database instance hostname (same as Debezium's `database.hostname` property)
* `--username` specifies the Oracle user account to connect with (same as Debezium's `database.user` property)
* `--password` specifies the Oracle user account's password (same as Debezium's `database.password` property)
* `--port` specifies the Oracle port (same as Debezium's `database.port` property)
* `--service` specifies the Oracle service/sid name (same as Debezium's `database.dbname` property)
* `--start-scn` specifies the LogMiner mining range first system change number in the range
* `--end-scn` specifies the LogMiner mining range last system change number in the range
* `--output` specifies the filename of the CSV where the mined data will be written

In addition, there are optional arguments:

* `--show-logs` specifies whether the logs used by the mining session are output to the console

An example would be:
```shell
java -jar target/quarkus-app/quarkus-run.jar transactions \
  --hostname localhost \
  --username c##dbzuser \
  --password dbz \
  --port 1521 \
  --service ORCLCDB \
  --start-scn 3837000 \
  --end-scn 3840000 \
  --show-logs \
  --output data.csv
```

Because the command specified `--show-logs`, the console will show output similar to the following, which describes all Oracle transaction logs (archive and online) that were used in the mining session based on the provided start and end SCN range:

```
Mineable Logs
+-----------------------------------------------------------------------------------------+-----------+---------------------+
| FILE_NAME                                                                               | FIRST_SCN | NEXT_SCN            |
+-----------------------------------------------------------------------------------------+-----------+---------------------+
| /opt/oracle/oradata/recovery_area/ORCLCDB/archivelog/2025_02_28/o1_mf_1_6_mw4dqmhj_.arc |   3836046 |             4014251 |
+-----------------------------------------------------------------------------------------+-----------+---------------------+
| /opt/oracle/oradata/recovery_area/ORCLCDB/archivelog/2025_03_01/o1_mf_1_7_mw5q3l1c_.arc |   4014251 |             4191041 |
+-----------------------------------------------------------------------------------------+-----------+---------------------+
|                                                  /opt/oracle/oradata/ORCLCDB/redo02.log |   4191041 | 9295429630892703743 |
+-----------------------------------------------------------------------------------------+-----------+---------------------+
```

In addition, a new file will have been created called `data.csv`, which contains the transaction aggregated details from the `V$LOGMNR_CONTENTS` view.
An example of what `data.csv` looks like is as follows:

```
"TRANASCTION_ID","COUNT"
"03000a00a2020000",25
```

## Submitting Debezium for Oracle Jira issues

When you submit an upstream Debezium Jira issue for the Oracle connector, using this tool can be very useful to provide as much information about the environment as possible.
While the Debezium Oracle connector log is useful, often times you cannot set the connector to `TRACE` or `DEBUG` level in perpetuity, and this provides a quick way to supplement the connector logs with that detail after the fact.

When submitting Debezium Jira issues, please include the `list-changes` for the relevant SCN ranges or the transaction, as well as the `info` and `logs` outputs.

## License

This code base is available under the Apache License, version 2.